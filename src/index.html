<!DOCTYPE html>
<html lang="en">
<head>
    <!-- MANUAL AUTH BUTTONS - ADD THIS -->
<div class="auth-buttons" style="margin-left: auto;">
    <a href="/login.html" class="btn-login">Log In</a>
    <a href="/signup.html" class="btn-signup">Sign Up</a>
</div>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synk - Notion & Google Calendar Sync</title>
    <link rel="icon" type="image/x-icon" href="../assets/icon.ico">
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <!-- Custom Titlebar -->
    <div class="titlebar">
        <div class="titlebar-title">Synk - Notion & Google Calendar Sync</div>
        <div class="titlebar-controls">
            <button class="titlebar-button minimize" id="minimize-btn"></button>
            <button class="titlebar-button maximize" id="maximize-btn"></button>
            <button class="titlebar-button close" id="close-btn"></button>
        </div>
    </div>

    <div class="app-container">
        <!-- Left Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="app-logo">Synk</div>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-item active" data-tab="sync">
                    <span class="nav-icon">↔</span>
                    <span>Sync</span>
                </div>
                <div class="nav-item" data-tab="settings">
                    <span class="nav-icon">⚙</span>
                    <span>Settings</span>
                </div>

                <div class="nav-item" data-tab="about">
                    <span class="nav-icon">i</span>
                    <span>About</span>
                </div>
            </nav>
            <div class="sidebar-footer">
                <a href="#" class="manage-plan-link" id="manage-plan-link" onclick="window.electronAPI.openExternal('https://billing.stripe.com/p/login/7sYaEQaRD57SghT5hSbMQ00'); return false;">Manage Plan</a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header Bar -->
            <div class="header-bar">
                <div class="header-title" id="header-title">Dashboard</div>
                <div class="status-pills">
                    <div class="status-pill disconnected" id="notion-pill">Notion</div>
                    <div class="status-pill disconnected" id="google-pill">Google</div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Sync Tab - Content loaded from tabs/sync-tab.html -->
                <div class="tab-content active" id="sync-tab">
                    <!-- Loading sync tab content... -->
                </div>

                <!-- Settings Tab - Content loaded from tabs/settings-tab.html -->
                <div class="tab-content" id="settings-tab">
                    <!-- Loading settings tab content... -->
                </div>

                <!-- About Tab - Content loaded from tabs/about-tab.html -->
                <div class="tab-content" id="about-tab">
                    <!-- Loading about tab content... -->
                </div>
            </div>
        </div>
    </div>

    <!-- Fullscreen Auth Overlay -->
    <div id="auth-overlay" style="position: fixed; inset: 0; background: radial-gradient(1200px 800px at 20% -10%, rgba(255,69,0,0.15), transparent), radial-gradient(1000px 700px at 120% 120%, rgba(220,20,60,0.12), transparent), linear-gradient(180deg, #050505 0%, #0a0a0a 100%); display: none; z-index: 2000; align-items: center; justify-content: center; opacity: 0; transition: opacity 300ms ease-in-out;">
        <div style="width: 100%; max-width: 420px; background: linear-gradient(135deg, #111 0%, #0f0f0f 100%); border: 1px solid #333; border-radius: 16px; padding: 32px; box-shadow: 0 20px 60px rgba(0,0,0,0.6); transform: scale(0.95); transition: transform 300ms ease-in-out;">
            <div style="text-align: center; margin-bottom: 24px;">
                <div style="font-size: 28px; font-weight: 800; background: linear-gradient(135deg, #ff4500, #dc143c); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Welcome Back</div>
                <div style="color:#bbb; margin-top: 8px;">Log in to continue syncing</div>
            </div>

            <div style="display:flex; flex-direction: column; gap: 12px; margin-top: 10px;">
                <input id="auth-email" type="email" placeholder="Email" style="background:#0d0d0d; color:#fff; border:1px solid #333; border-radius:10px; padding:14px 16px; outline:none; font-size: 14px; transition: border-color 300ms ease-in-out;" onfocus="this.style.borderColor='#ff4500'" onblur="this.style.borderColor='#333'" />
                <input id="auth-password" type="password" placeholder="Password" style="background:#0d0d0d; color:#fff; border:1px solid #333; border-radius:10px; padding:14px 16px; outline:none; font-size: 14px; transition: border-color 300ms ease-in-out;" onfocus="this.style.borderColor='#ff4500'" onblur="this.style.borderColor='#333'" />
                
                <div style="text-align: right; margin-top: -4px;">
                    <a href="#" id="forgot-password-link" onclick="window.electronAPI.openExternal('https://synk-official.com/reset-password'); return false;" style="color:#ff7043; text-decoration:none; font-size: 13px; transition: color 300ms ease-in-out;" onmouseover="this.style.color='#ff4500'" onmouseout="this.style.color='#ff7043'">Forgot password?</a>
                </div>
                
                <button id="login-btn" class="action-btn" style="width: 100%; margin-top: 8px; padding: 14px; font-size: 15px; font-weight: 600; transition: all 300ms ease-in-out;">Log In</button>
                
                <p id="auth-status" style="color:#9e9e9e; min-height: 18px; text-align:center; margin-top:4px; transition: color 300ms ease-in-out;"></p>
            </div>

            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #222; text-align:center;">
                <div style="color:#999; font-size: 13px; margin-bottom: 8px;">Don't have an account?</div>
                <a href="#" onclick="window.electronAPI.openExternal('https://synk-official.com/signup'); return false;" style="color:#ff7043; text-decoration:none; font-size: 14px; font-weight: 600; transition: color 300ms ease-in-out;" onmouseover="this.style.color='#ff4500'" onmouseout="this.style.color='#ff7043'">Sign up on our website ?</a>
            </div>

            <div style="margin-top: 16px; text-align:center; color:#777; font-size: 11px;">
                By continuing you agree to our <a href="#" onclick="window.electronAPI.openExternal('https://synk-official.com/terms.html'); return false;" style="color:#ff7043; text-decoration:none; transition: color 300ms ease-in-out;" onmouseover="this.style.color='#ff4500'" onmouseout="this.style.color='#ff7043'">Terms</a> and <a href="#" onclick="window.electronAPI.openExternal('https://synk-official.com/privacy.html'); return false;" style="color:#ff7043; text-decoration:none; transition: color 300ms ease-in-out;" onmouseover="this.style.color='#ff4500'" onmouseout="this.style.color='#ff7043'">Privacy</a>.
            </div>
        </div>
    </div>

    <!-- Professional Sync Status Panel -->
    <div class="sync-status-panel" id="sync-status-panel">
        <div class="sync-status-content">
            <div class="sync-indicator" id="sync-indicator">
                <div class="sync-dot" id="sync-dot"></div>
                <span class="sync-status-text" id="sync-status-text">Select one Notion database and one Google calendar to sync</span>
            </div>
            <div class="sync-details" id="sync-details" style="display: none;">
                <div class="sync-pair-info">
                    <span class="sync-source" id="sync-source">No selection</span>
                    <span class="sync-arrow">⟷</span>
                    <span class="sync-target" id="sync-target">No selection</span>
                </div>
                <div class="sync-stats" id="sync-stats">
                    <span class="last-sync" id="last-sync">Never synced</span>
                    <span class="sync-count" id="sync-count">0 syncs</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast notification for errors -->
    <div id="error-toast" style="position: fixed; top: 20px; right: 20px; background: linear-gradient(135deg, #d32f2f 0%, #b71c1c 100%); color: white; padding: 16px 20px; border-radius: 8px; display: none; z-index: 10000; min-width: 350px; max-width: 500px; box-shadow: 0 4px 20px rgba(211, 47, 47, 0.4); border-left: 4px solid #ff6b6b; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
        <div style="display: flex; align-items: flex-start; gap: 12px;">
            <div style="font-size: 20px; flex-shrink: 0; margin-top: 2px;">⚠️</div>
            <div style="flex: 1; line-height: 1.5;">
                <div id="error-message" style="font-weight: 500; font-size: 14px;"></div>
            </div>
            <button onclick="hideErrorToast()" style="background: none; border: none; color: white; cursor: pointer; font-size: 20px; padding: 0; margin: 0; opacity: 0.7; transition: opacity 0.2s;" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.7'">&times;</button>
        </div>
    </div>

    <!-- Load JavaScript from separate files -->
    <script src="./js/index.js"></script>
    <script src="./js/tabs-loader.js"></script>
</body>
</html>